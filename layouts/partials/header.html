<header class="mail-toolbar">
    <div class="toolbar-buttons">
        <button type="button" class="toolbar-btn" aria-label="Reply" onclick="window.location.href='mailto:{{ .Site.Params.author.username }}@{{ .Site.BaseURL | replaceRE "^https?://" "" | replaceRE "/$" "" }}'" title="Reply">
            <div class="btn-icon reply-icon"></div>
            <span>Reply</span>
        </button>

        <button type="button" class="toolbar-btn" aria-label="Reply All" onclick="window.open('{{ .Site.Params.author.activitypub.url }}', '_blank')" title="Reply All">
            <div class="btn-icon reply-all-icon"></div>
            <span>Reply All</span>
        </button>

        <button type="button" class="toolbar-btn" aria-label="Forward" onclick="copyCurrentLink()" title="Forward">
            <div class="btn-icon forward-icon"></div>
            <span>Forward</span>
        </button>

        <button type="button" class="toolbar-btn" aria-label="Open RSS feed" onclick="window.open('/feed.xml', '_blank')" title="RSS Feed">
            <div class="btn-icon rss-icon"></div>
            <span>RSS</span>
        </button>
    </div>
</header>

<script>
function copyCurrentLink() {
    if (navigator.clipboard) {
        navigator.clipboard.writeText(window.location.href).then(function() {
            alert('Link copied to clipboard!');
        });
    } else {
        // Fallback for older browsers
        var textArea = document.createElement("textarea");
        textArea.value = window.location.href;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert('Link copied to clipboard!');
    }
}
</script>
